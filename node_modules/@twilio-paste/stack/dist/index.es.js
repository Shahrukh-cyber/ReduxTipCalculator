var M=Object.prototype.hasOwnProperty;var m=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable;var a=Object.assign;var S=(t,e)=>{var o={};for(var r in t)M.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&m)for(var r of m(t))e.indexOf(r)<0&&b.call(t,r)&&(o[r]=t[r]);return o};import{Children as B,createElement as f,forwardRef as C,isValidElement as v,useMemo as c}from"react";import{oneOf as w,string as D}from"prop-types";import{useUIDSeed as z}from"@twilio-paste/uid-library";import{isSpaceTokenProp as T,ResponsiveProp as A}from"@twilio-paste/style-props";import{Box as k,safelySpreadBoxProps as V}from"@twilio-paste/box";var u=t=>Array.isArray(t)?t.map(e=>e==="horizontal"?"flex":"block"):t==="horizontal"?"flex":"block",x=t=>({display:u(t),alignItems:"center",flexWrap:"wrap"}),g=(t,e)=>{let o={};if(Array.isArray(t)){let r=[],p=[];t.forEach((n,i)=>{r[i]=n==="horizontal"?e:"space0",p[i]=n==="horizontal"?"space0":e}),o={marginRight:r,marginBottom:p}}return t==="horizontal"&&(o={marginRight:e}),t==="vertical"&&(o={marginBottom:e}),o},y=C((i,n)=>{var{children:t,orientation:e,spacing:o,element:r="STACK"}=i,p=S(i,["children","orientation","spacing","element"]);let[P,d]=c(()=>{let l=B.toArray(t).filter(s=>v(s)||typeof s=="string");return[l.length,l]},[t]),h=c(()=>x(e),[e]),O=c(()=>g(e,o),[e,o]),R=z();return f(k,a(a(a({element:r},V(p)),h),{ref:n}),d.map((l,s)=>f(k,a(a({element:`${r}_CHILD`},P!==s+1?O:null),{key:R(`stack-${s}`)}),l)))});y.displayName="Stack";y.propTypes={orientation:A(w(["horizontal","vertical"])).isRequired,spacing:T,element:D};export{y as Stack,g as getStackChildMargins,u as getStackDisplay,x as getStackStyles};
