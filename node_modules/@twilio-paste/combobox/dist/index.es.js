var Jt=Object.prototype.hasOwnProperty;var it=Object.getOwnPropertySymbols,Zt=Object.prototype.propertyIsEnumerable;var f=Object.assign;var G=(e,t)=>{var r={};for(var n in e)Jt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&it)for(var n of it(e))t.indexOf(n)<0&&Zt.call(e,n)&&(r[n]=e[n]);return r},Qt=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports);var Ft=Qt((le,re)=>{var Sr=200,Or="Expected a function",qe="__lodash_hash_undefined__",we=1,ne=2,lt=1/0,ct=9007199254740991,Pe="[object Arguments]",Ke="[object Array]",dt="[object Boolean]",mt="[object Date]",bt="[object Error]",gt="[object Function]",Rr="[object GeneratorFunction]",Ie="[object Map]",yt="[object Number]",oe="[object Object]",ht="[object Promise]",xt="[object RegExp]",Se="[object Set]",vt="[object String]",Tt="[object Symbol]",Ye="[object WeakMap]",Ct="[object ArrayBuffer]",Oe="[object DataView]",Lr="[object Float32Array]",Er="[object Float64Array]",Ar="[object Int8Array]",Br="[object Int16Array]",Nr="[object Int32Array]",Mr="[object Uint8Array]",$r="[object Uint8ClampedArray]",zr="[object Uint16Array]",Dr="[object Uint32Array]",Hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,Ur=/^\./,Wr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fr=/[\\^$.*+?()[\]{}|]/g,qr=/\\(\\)?/g,Kr=/^\[object .+?Constructor\]$/,Yr=/^(?:0|[1-9]\d*)$/,y={};y[Lr]=y[Er]=y[Ar]=y[Br]=y[Nr]=y[Mr]=y[$r]=y[zr]=y[Dr]=!0;y[Pe]=y[Ke]=y[Ct]=y[dt]=y[Oe]=y[mt]=y[bt]=y[gt]=y[Ie]=y[yt]=y[oe]=y[xt]=y[Se]=y[vt]=y[Ye]=!1;var _t=typeof global=="object"&&global&&global.Object===Object&&global,Vr=typeof self=="object"&&self&&self.Object===Object&&self,W=_t||Vr||Function("return this")(),wt=typeof le=="object"&&le&&!le.nodeType&&le,Pt=wt&&typeof re=="object"&&re&&!re.nodeType&&re,Xr=Pt&&Pt.exports===wt,It=Xr&&_t.process,St=function(){try{return It&&It.binding("util")}catch(e){}}(),Ot=St&&St.isTypedArray;function Jr(e,t,r,n){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Zr(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function Qr(e){return function(t){return t==null?void 0:t[e]}}function jr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function kr(e){return function(t){return e(t)}}function en(e,t){return e==null?void 0:e[t]}function Ve(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(r){}return t}function tn(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function rn(e,t){return function(r){return e(t(r))}}function nn(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var on=Array.prototype,an=Function.prototype,Re=Object.prototype,Xe=W["__core-js_shared__"],Rt=function(){var e=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Lt=an.toString,L=Re.hasOwnProperty,ie=Re.toString,sn=RegExp("^"+Lt.call(L).replace(Fr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=W.Symbol,At=W.Uint8Array,pn=Re.propertyIsEnumerable,un=on.splice,fn=rn(Object.keys,Object),Je=ae(W,"DataView"),ce=ae(W,"Map"),Ze=ae(W,"Promise"),Qe=ae(W,"Set"),je=ae(W,"WeakMap"),de=ae(Object,"create"),ln=Z(Je),cn=Z(ce),dn=Z(Ze),mn=Z(Qe),bn=Z(je),Le=Et?Et.prototype:void 0,ke=Le?Le.valueOf:void 0,Bt=Le?Le.toString:void 0;function Q(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function gn(){this.__data__=de?de(null):{}}function yn(e){return this.has(e)&&delete this.__data__[e]}function hn(e){var t=this.__data__;if(de){var r=t[e];return r===qe?void 0:r}return L.call(t,e)?t[e]:void 0}function xn(e){var t=this.__data__;return de?t[e]!==void 0:L.call(t,e)}function vn(e,t){var r=this.__data__;return r[e]=de&&t===void 0?qe:t,this}Q.prototype.clear=gn;Q.prototype.delete=yn;Q.prototype.get=hn;Q.prototype.has=xn;Q.prototype.set=vn;function M(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Tn(){this.__data__=[]}function Cn(e){var t=this.__data__,r=Ee(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():un.call(t,r,1),!0}function _n(e){var t=this.__data__,r=Ee(t,e);return r<0?void 0:t[r][1]}function wn(e){return Ee(this.__data__,e)>-1}function Pn(e,t){var r=this.__data__,n=Ee(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}M.prototype.clear=Tn;M.prototype.delete=Cn;M.prototype.get=_n;M.prototype.has=wn;M.prototype.set=Pn;function $(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function In(){this.__data__={hash:new Q,map:new(ce||M),string:new Q}}function Sn(e){return Ae(this,e).delete(e)}function On(e){return Ae(this,e).get(e)}function Rn(e){return Ae(this,e).has(e)}function Ln(e,t){return Ae(this,e).set(e,t),this}$.prototype.clear=In;$.prototype.delete=Sn;$.prototype.get=On;$.prototype.has=Rn;$.prototype.set=Ln;function Be(e){var t=-1,r=e?e.length:0;for(this.__data__=new $;++t<r;)this.add(e[t])}function En(e){return this.__data__.set(e,qe),this}function An(e){return this.__data__.has(e)}Be.prototype.add=Be.prototype.push=En;Be.prototype.has=An;function z(e){this.__data__=new M(e)}function Bn(){this.__data__=new M}function Nn(e){return this.__data__.delete(e)}function Mn(e){return this.__data__.get(e)}function $n(e){return this.__data__.has(e)}function zn(e,t){var r=this.__data__;if(r instanceof M){var n=r.__data__;if(!ce||n.length<Sr-1)return n.push([e,t]),this;r=this.__data__=new $(n)}return r.set(e,t),this}z.prototype.clear=Bn;z.prototype.delete=Nn;z.prototype.get=Mn;z.prototype.has=$n;z.prototype.set=zn;function Dn(e,t){var r=F(e)||Mt(e)?jr(e.length,String):[],n=r.length,i=!!n;for(var o in e)(t||L.call(e,o))&&!(i&&(o=="length"||Nt(o,n)))&&r.push(o);return r}function Ee(e,t){for(var r=e.length;r--;)if($t(e[r][0],t))return r;return-1}function Gn(e,t,r,n){return Hn(e,function(i,o,a){t(n,i,r(i),a)}),n}var Hn=Wn(Un),qn=Fn();function Un(e,t){return e&&qn(e,t,Ne)}function Dt(e,t){t=Me(t,e)?[t]:zt(t);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function Kn(e){return ie.call(e)}function Yn(e,t){return e!=null&&t in Object(e)}function et(e,t,r,n,i){return e===t?!0:e==null||t==null||!ze(e)&&!De(t)?e!==e&&t!==t:Vn(e,t,et,r,n,i)}function Vn(e,t,r,n,i,o){var a=F(e),s=F(t),p=Ke,l=Ke;a||(p=q(e),p=p==Pe?oe:p),s||(l=q(t),l=l==Pe?oe:l);var h=p==oe&&!Ve(e),c=l==oe&&!Ve(t),u=p==l;if(u&&!h)return o||(o=new z),a||Zn(e)?Ht(e,t,r,n,i,o):Xn(e,t,p,r,n,i,o);if(!(i&ne)){var m=h&&L.call(e,"__wrapped__"),g=c&&L.call(t,"__wrapped__");if(m||g){var v=m?e.value():e,I=g?t.value():t;return o||(o=new z),r(v,I,n,i,o)}}return u?(o||(o=new z),Jn(e,t,r,n,i,o)):!1}function Qn(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var p=s[0],l=e[p],h=s[1];if(a&&s[2]){if(l===void 0&&!(p in e))return!1}else{var c=new z;if(n)var u=n(l,h,p,e,t,c);if(!(u===void 0?et(h,l,n,we|ne,c):u))return!1}}return!0}function kn(e){if(!ze(e)||jn(e))return!1;var t=Gt(e)||Ve(e)?sn:Kr;return t.test(Z(e))}function eo(e){return De(e)&&tt(e.length)&&!!y[ie.call(e)]}function io(e){return typeof e=="function"?e:e==null?no:typeof e=="object"?F(e)?ro(e[0],e[1]):to(e):oo(e)}function so(e){if(!ao(e))return fn(e);var t=[];for(var r in Object(e))L.call(e,r)&&r!="constructor"&&t.push(r);return t}function to(e){var t=po(e);return t.length==1&&t[0][2]?Ut(t[0][0],t[0][1]):function(r){return r===e||Qn(r,e,t)}}function ro(e,t){return Me(e)&&Wt(t)?Ut($e(e),t):function(r){var n=uo(r,e);return n===void 0&&n===t?fo(r,e):et(t,n,void 0,we|ne)}}function lo(e){return function(t){return Dt(t,e)}}function co(e){if(typeof e=="string")return e;if(rt(e))return Bt?Bt.call(e):"";var t=e+"";return t=="0"&&1/e==-lt?"-0":t}function zt(e){return F(e)?e:mo(e)}function bo(e,t){return function(r,n){var i=F(r)?Jr:Gn,o=t?t():{};return i(r,e,io(n,2),o)}}function Wn(e,t){return function(r,n){if(r==null)return r;if(!nt(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}function Fn(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var p=a[e?s:++i];if(r(o[p],p,o)===!1)break}return t}}function Ht(e,t,r,n,i,o){var a=i&ne,s=e.length,p=t.length;if(s!=p&&!(a&&p>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var h=-1,c=!0,u=i&we?new Be:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var m=e[h],g=t[h];if(n)var v=a?n(g,m,h,t,e,o):n(m,g,h,e,t,o);if(v!==void 0){if(v)continue;c=!1;break}if(u){if(!Zr(t,function(I,w){if(!u.has(w)&&(m===I||r(m,I,n,i,o)))return u.add(w)})){c=!1;break}}else if(!(m===g||r(m,g,n,i,o))){c=!1;break}}return o.delete(e),o.delete(t),c}function Xn(e,t,r,n,i,o,a){switch(r){case Oe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ct:return!(e.byteLength!=t.byteLength||!n(new At(e),new At(t)));case dt:case mt:case yt:return $t(+e,+t);case bt:return e.name==t.name&&e.message==t.message;case xt:case vt:return e==t+"";case Ie:var s=tn;case Se:var p=o&ne;if(s||(s=nn),e.size!=t.size&&!p)return!1;var l=a.get(e);if(l)return l==t;o|=we,a.set(e,t);var h=Ht(s(e),s(t),n,i,o,a);return a.delete(e),h;case Tt:if(ke)return ke.call(e)==ke.call(t)}return!1}function Jn(e,t,r,n,i,o){var a=i&ne,s=Ne(e),p=s.length,l=Ne(t),h=l.length;if(p!=h&&!a)return!1;for(var c=p;c--;){var u=s[c];if(!(a?u in t:L.call(t,u)))return!1}var m=o.get(e);if(m&&o.get(t))return m==t;var g=!0;o.set(e,t),o.set(t,e);for(var v=a;++c<p;){u=s[c];var I=e[u],w=t[u];if(n)var S=a?n(w,I,u,t,e,o):n(I,w,u,e,t,o);if(!(S===void 0?I===w||r(I,w,n,i,o):S)){g=!1;break}v||(v=u=="constructor")}if(g&&!v){var P=e.constructor,D=t.constructor;P!=D&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof D=="function"&&D instanceof D)&&(g=!1)}return o.delete(e),o.delete(t),g}function Ae(e,t){var r=e.__data__;return go(t)?r[typeof t=="string"?"string":"hash"]:r.map}function po(e){for(var t=Ne(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Wt(i)]}return t}function ae(e,t){var r=en(e,t);return kn(r)?r:void 0}var q=Kn;(Je&&q(new Je(new ArrayBuffer(1)))!=Oe||ce&&q(new ce)!=Ie||Ze&&q(Ze.resolve())!=ht||Qe&&q(new Qe)!=Se||je&&q(new je)!=Ye)&&(q=function(e){var t=ie.call(e),r=t==oe?e.constructor:void 0,n=r?Z(r):void 0;if(n)switch(n){case ln:return Oe;case cn:return Ie;case dn:return ht;case mn:return Se;case bn:return Ye}return t});function yo(e,t,r){t=Me(t,e)?[t]:zt(t);for(var n,i=-1,o=t.length;++i<o;){var a=$e(t[i]);if(!(n=e!=null&&r(e,a)))break;e=e[a]}if(n)return n;var o=e?e.length:0;return!!o&&tt(o)&&Nt(a,o)&&(F(e)||Mt(e))}function Nt(e,t){return t=t==null?ct:t,!!t&&(typeof e=="number"||Yr.test(e))&&e>-1&&e%1==0&&e<t}function Me(e,t){if(F(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rt(e)?!0:Gr.test(e)||!Hr.test(e)||t!=null&&e in Object(t)}function go(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function jn(e){return!!Rt&&Rt in e}function ao(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Re;return e===r}function Wt(e){return e===e&&!ze(e)}function Ut(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var mo=ot(function(e){e=ho(e);var t=[];return Ur.test(e)&&t.push(""),e.replace(Wr,function(r,n,i,o){t.push(i?o.replace(qr,"$1"):n||r)}),t});function $e(e){if(typeof e=="string"||rt(e))return e;var t=e+"";return t=="0"&&1/e==-lt?"-0":t}function Z(e){if(e!=null){try{return Lt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var xo=bo(function(e,t,r){L.call(e,r)?e[r].push(t):e[r]=[t]});function ot(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Or);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(ot.Cache||$),r}ot.Cache=$;function $t(e,t){return e===t||e!==e&&t!==t}function Mt(e){return vo(e)&&L.call(e,"callee")&&(!pn.call(e,"callee")||ie.call(e)==Pe)}var F=Array.isArray;function nt(e){return e!=null&&tt(e.length)&&!Gt(e)}function vo(e){return De(e)&&nt(e)}function Gt(e){var t=ze(e)?ie.call(e):"";return t==gt||t==Rr}function tt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ct}function ze(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function De(e){return!!e&&typeof e=="object"}function rt(e){return typeof e=="symbol"||De(e)&&ie.call(e)==Tt}var Zn=Ot?kr(Ot):eo;function ho(e){return e==null?"":co(e)}function uo(e,t,r){var n=e==null?void 0:Dt(e,t);return n===void 0?r:n}function fo(e,t){return e!=null&&yo(e,t,Yn)}function Ne(e){return nt(e)?Dn(e):so(e)}function no(e){return e}function oo(e){return Me(e)?Qr($e(e)):lo(e)}re.exports=xo});import{useComboboxPrimitive as Do}from"@twilio-paste/combobox-primitive";import{createElement as E,forwardRef as wo,useCallback as Po,useRef as Io}from"react";import{any as wi,arrayOf as Pi,bool as Ii,func as Si,node as Oi,object as Ri,oneOfType as Li,string as Ei}from"prop-types";import C from"react";function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}function jt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kt=["bottom","height","left","right","top","width"],er=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),kt.some(function(n){return t[n]!==r[n]})},U=new Map,at,tr=function e(){var t=[];U.forEach(function(r,n){var i=n.getBoundingClientRect();er(i,r.rect)&&(r.rect=i,t.push(r))}),t.forEach(function(r){r.callbacks.forEach(function(n){return n(r.rect)})}),at=window.requestAnimationFrame(e)};function rr(e,t){return{observe:function(){var n=U.size===0;U.has(e)?U.get(e).callbacks.push(t):U.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&tr()},unobserve:function(){var n=U.get(e);if(n){var i=n.callbacks.indexOf(t);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||U.delete(e),U.size||cancelAnimationFrame(at)}}}}var Te=typeof window!="undefined"?C.useLayoutEffect:C.useEffect;function or(e){var t=C.useState(e.current),r=t[0],n=t[1],i=C.useReducer(nr,null),o=i[0],a=i[1],s=C.useRef(!1);return Te(function(){e.current!==r&&n(e.current)}),Te(function(){if(r&&!s.current){s.current=!0;var p=r.getBoundingClientRect();a({rect:p})}},[r]),C.useEffect(function(){if(!!r){var p=rr(r,function(l){a({rect:l})});return p.observe(),function(){p.unobserve()}}},[r]),o}function nr(e,t){var r=t.rect;return!e||e.height!==r.height||e.width!==r.width?r:e}var ir=function(){return 50};function st(e){var t,r,n=e.size,i=n===void 0?0:n,o=e.estimateSize,a=o===void 0?ir:o,s=e.overscan,p=s===void 0?0:s,l=e.paddingStart,h=l===void 0?0:l,c=e.paddingEnd,u=c===void 0?0:c,m=e.parentRef,g=e.horizontal,v=e.scrollToFn,I=e.useObserver,w=g?"width":"height",S=g?"scrollLeft":"scrollTop",P=C.useRef({}),D=I||or,j=D(m)||(t={},t[w]=0,t),me=j[w],Y=C.useCallback(function(d){m.current&&(m.current[S]=d)},[m,S]),be=v||Y;v=C.useCallback(function(d){be(d,Y)},[Y,be]);var se=C.useState({}),ge=se[0],pe=se[1],H=C.useMemo(function(){for(var d=[],b=0;b<i;b++){var T=ge[b],_=d[b-1]?d[b-1].end:h,x=typeof T=="number"?T:a(b),B=_+x;d[b]={index:b,start:_,size:x,end:B}}return d},[a,ge,h,i]),k=(((r=H[i-1])==null?void 0:r.end)||0)+u;Object.assign(P.current,{overscan:p,measurements:H,outerSize:me,totalSize:k});var ue=C.useState({start:0,end:0}),V=ue[0],ye=ue[1];Te(function(){var d=m.current;if(!!d){var b=function(){var _=d[S];P.current.scrollOffset=_,ye(function(x){return ar(P.current,x)})};return b(),d.addEventListener("scroll",b,{capture:!1,passive:!0}),function(){d.removeEventListener("scroll",b)}}},[m.current,S,i,me]);var he=C.useMemo(function(){for(var d=[],b=Math.min(V.end,H.length-1),T=function(B){var N=H[B],O=X(X({},N),{},{measureRef:function(ve){var R=P.current.scrollOffset;if(ve){var Ge=ve.getBoundingClientRect(),Ue=Ge[w];Ue!==O.size&&(O.start<R&&Y(R+(Ue-O.size)),pe(function(Xt){var We;return X(X({},Xt),{},(We={},We[B]=Ue,We))}))}}});d.push(O)},_=V.start;_<=b;_++)T(_);return d},[V.start,V.end,H,w,Y]),fe=C.useRef();Te(function(){fe.current&&(a||i)&&pe({}),fe.current=!0},[a,i]);var ee=C.useCallback(function(d,b){var T=b===void 0?{}:b,_=T.align,x=_===void 0?"start":_,B=P.current,N=B.scrollOffset,O=B.outerSize;x==="auto"&&(d<=N?x="start":N>=N+O?x="end":x="start"),x==="start"?v(d):x==="end"?v(d-O):x==="center"&&v(d-O/2)},[v]),A=C.useCallback(function(d,b){var T=b===void 0?{}:b,_=T.align,x=_===void 0?"auto":_,B=jt(T,["align"]),N=P.current,O=N.measurements,He=N.scrollOffset,ve=N.outerSize,R=O[Math.max(0,Math.min(d,i-1))];if(!!R){if(x==="auto")if(R.end>=He+ve)x="end";else if(R.start<=He)x="start";else return;var Ge=x==="center"?R.start+R.size/2:x==="end"?R.end:R.start;ee(Ge,X({align:x},B))}},[ee,i]),xe=C.useCallback(function(){for(var d=arguments.length,b=new Array(d),T=0;T<d;T++)b[T]=arguments[T];A.apply(void 0,b),requestAnimationFrame(function(){A.apply(void 0,b)})},[A]);return{virtualItems:he,totalSize:k,scrollToOffset:ee,scrollToIndex:xe}}function ar(e,t){for(var r=e.overscan,n=e.measurements,i=e.outerSize,o=e.scrollOffset,a=n.length,s=a-1;s>0&&n[s].end>=o;)s-=1;for(var p=0;p<a-1&&n[p].start<=o+i;)p+=1;return s=Math.max(s-r,0),p=Math.min(p+r,a-1),!t||t.start!==s||t.end!==p?{start:s,end:p}:t}import{useTheme as So,remToPx as Oo}from"@twilio-paste/theme";import{useUID as Ro}from"@twilio-paste/uid-library";import{useComboboxPrimitive as Lo}from"@twilio-paste/combobox-primitive";import{ChevronDownIcon as Eo}from"@twilio-paste/icons/esm/ChevronDownIcon";import{Box as Ao}from"@twilio-paste/box";import{InputBox as Bo,InputChevronWrapper as No}from"@twilio-paste/input-box";import{Label as Mo}from"@twilio-paste/label";import{HelpText as $o}from"@twilio-paste/help-text";import{InputElement as sr}from"@twilio-paste/input";import{styled as pr,css as ur}from"@twilio-paste/styling-library";var pt=pr(sr)(e=>ur({paddingRight:e.autocomplete?null:"space100"}));import{createElement as fr,forwardRef as lr}from"react";import{node as Xo}from"prop-types";import{Box as cr,safelySpreadBoxProps as dr}from"@twilio-paste/box";var Ce=lr((n,r)=>{var{children:e}=n,t=G(n,["children"]);return fr(cr,f(f({},dr(t)),{display:"flex",position:"relative",width:"100%",ref:r}),e)});Ce.displayName="ComboboxInputWrapper";import{createElement as mr,forwardRef as br}from"react";import{node as ko}from"prop-types";import{Box as gr,safelySpreadBoxProps as yr}from"@twilio-paste/box";var _e=br((n,r)=>{var{children:e}=n,t=G(n,["children"]);return mr(gr,f(f({},yr(t)),{as:"div",backgroundColor:"colorBackgroundBody",borderRadius:"borderRadius20",borderColor:"colorBorderWeak",borderWidth:"borderWidth10",borderStyle:"solid",boxShadow:"shadow",listStyleType:"none",margin:"space0",overflowY:"auto",padding:"space0",paddingY:"space30",position:"absolute",width:"100%",maxHeight:"size30",zIndex:"zIndex20",marginTop:"space20",ref:r}),e)});_e.displayName="ComboboxListbox";import{Fragment as Co,createElement as K}from"react";import{useUIDSeed as _o}from"@twilio-paste/uid-library";import{createElement as ut,forwardRef as hr}from"react";import{bool as oi,node as ii,oneOf as ai}from"prop-types";import{Box as xr,safelySpreadBoxProps as vr}from"@twilio-paste/box";import{Text as Tr}from"@twilio-paste/text";var Cr={groupOption:{paddingLeft:"space90",paddingRight:"space90"},default:{paddingLeft:"space70",paddingRight:"space70"}},te=hr((a,o)=>{var{children:e,highlighted:t,variant:r="default",virtualItem:n}=a,i=G(a,["children","highlighted","variant","virtualItem"]);let s=n?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${n.start}px)`}:{};return ut(xr,f(f(f(f({},vr(i)),{as:"li",backgroundColor:t?"colorBackgroundPrimaryWeakest":"colorBackgroundBody",padding:"space30",cursor:"pointer",ref:o}),s),Cr[r]),ut(Tr,{as:"span",color:"colorText",textDecoration:t?"underline":null},e))});te.displayName="ComboboxListboxOption";import{createElement as Fe,forwardRef as _r}from"react";import{node as wr,string as Pr}from"prop-types";import{Box as ft}from"@twilio-paste/box";import{Text as Ir}from"@twilio-paste/text";var J=_r(({children:e,groupName:t,groupLabelTemplate:r},n)=>Fe(ft,{as:"ul",role:t?"group":"presentation","aria-label":t,ref:n,margin:"space0",padding:"space0",listStyleType:"none"},t?Fe(ft,{as:"li",role:"presentation",paddingY:"space30",paddingX:"space70"},Fe(Ir,{as:"span",fontWeight:"fontWeightBold"},r?r(t):t)):null,e));J.displayName="ComboboxListboxGroup";J.propTypes={children:wr.isRequired,groupName:Pr};var To=Ft(),qt=e=>e.map((t,r)=>typeof t=="string"?{label:t,index:r}:f(f({},t),{index:r})),Kt=(e,t)=>To(e,r=>typeof r=="string"?"Uncategorized":r[t]);var Yt=({items:e,getItemProps:t,highlightedIndex:r,optionTemplate:n,groupLabelTemplate:i,groupItemsBy:o,rowVirtualizer:a})=>{let s=_o();if(o==null)return n!=null?K(J,null,e.map((c,u)=>K(te,f(f({},t({item:c,index:u})),{highlighted:r===u,key:s(`item-${u}`),variant:"default"}),n(c)))):K(J,null,K("li",{role:"presentation",key:"total-size",style:{height:a.totalSize}}),a.virtualItems.map(c=>{let u=c.index,m=e[u];return K(te,f(f({ref:g=>c.measureRef(g)},t({item:m,index:u})),{highlighted:r===u,key:s(`item-${u}`),variant:"default",virtualItem:c,"aria-setsize":e.length,"aria-posinset":e.indexOf(m)}),m)}));let p=qt(e),l=Kt(p,o),h=Object.keys(l);return K(Co,null,h.map(c=>{let u=c==="undefined",m=u?"$$$Uncategorized$$$":c;return K(J,{key:s(m),groupName:u?void 0:m,groupLabelTemplate:i},l[c].map(g=>K(te,f(f({},t({item:g,index:g.index})),{highlighted:r===g.index,key:s(`${m}-${g.index}`),variant:u?"default":"groupOption"}),n?n(g):g)))}))};var zo=(e,t)=>t&&e==="inverse"?"error_inverse":t?"error":e==="inverse"?"inverse":"default",Vt=wo((se,be)=>{var{autocomplete:e,disabled:t,hasError:r,helpText:n,initialSelectedItem:i,initialIsOpen:o,inputValue:a,insertAfter:s,insertBefore:p,items:l,itemToString:h,labelText:c,onInputValueChange:u,onSelectedItemChange:m,optionTemplate:g,onHighlightedIndexChange:v,onIsOpenChange:I,required:w,selectedItem:S,groupItemsBy:P,groupLabelTemplate:D,variant:j="default",state:me}=se,Y=G(se,["autocomplete","disabled","hasError","helpText","initialSelectedItem","initialIsOpen","inputValue","insertAfter","insertBefore","items","itemToString","labelText","onInputValueChange","onSelectedItemChange","optionTemplate","onHighlightedIndexChange","onIsOpenChange","required","selectedItem","groupItemsBy","groupLabelTemplate","variant","state"]);let ge=So(),pe=Io(null),H=Ro(),k=!P&&!g?st({size:l.length,parentRef:pe,estimateSize:Po(()=>36,[]),overscan:4,paddingStart:Oo(ge.space.space30,"number")}):void 0,{getComboboxProps:ue,getInputProps:V,getItemProps:ye,getLabelProps:he,getMenuProps:fe,getToggleButtonProps:ee,highlightedIndex:A,isOpen:xe}=me||Lo(f(f(f(f({initialSelectedItem:i,items:l,onHighlightedIndexChange:b=>{var x;let T=A!=null?A:0,_=(x=b.highlightedIndex)!=null?x:T;k&&k.scrollToIndex(_),v&&v(b)},onInputValueChange:u,onIsOpenChange:I,onSelectedItemChange:m},h!=null&&{itemToString:h}),o!=null&&{initialIsOpen:o}),a!=null&&{inputValue:a}),S!=null&&{selectedItem:S}));if(ue===void 0||V===void 0||ye===void 0||he===void 0||fe===void 0||ee===void 0||A===void 0||xe===void 0)throw new Error("[Combobox]: One of getComboboxProps, getInputProps, getItemProps, getLabelProps, getMenuProps, getToggleButtonProps, highlightedIndex or isOpen is missing from the state object. Please make sure this is provided.");let d="colorTextIcon";return t?d="colorTextWeaker":j==="inverse"&&(d="colorTextInverseWeak"),E(Ao,{position:"relative"},E(Mo,f({disabled:t,required:w,variant:j},he()),c),E(Bo,{disabled:t,hasError:r,insertBefore:p,insertAfter:s,variant:j},E(Ce,f({},ue({role:"combobox"})),E(pt,f(f(f(f({},ee({tabIndex:0})),V(f({disabled:t,required:w,ref:be},Y))),e?void 0:{onChange:b=>b.preventDefault()}),{autocomplete:e,"aria-describedby":H,type:"text"})),!e&&E(No,null,E(Eo,{"aria-hidden":"true",decorative:!0,color:d,size:"sizeIcon30"})))),E(_e,f({hidden:!xe},fe({ref:pe})),E(Yt,{items:l,rowVirtualizer:k,getItemProps:ye,highlightedIndex:A,optionTemplate:g,groupItemsBy:P,groupLabelTemplate:D})),n&&E($o,{id:H,variant:zo(j,r)},n))});Vt.displayName="Combobox";export{Vt as Combobox,Ce as ComboboxInputWrapper,_e as ComboboxListbox,J as ComboboxListboxGroup,te as ComboboxListboxOption,Do as useCombobox};
