var S=Object.prototype.hasOwnProperty;var g=Object.getOwnPropertySymbols,E=Object.prototype.propertyIsEnumerable;var n=Object.assign;var d=(o,s)=>{var t={};for(var e in o)S.call(o,e)&&s.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&g)for(var e of g(o))s.indexOf(e)<0&&E.call(o,e)&&(t[e]=o[e]);return t};import{createElement as m,forwardRef as k}from"react";import{useDisclosurePrimitiveState as y}from"@twilio-paste/disclosure-primitive";import{Box as z}from"@twilio-paste/box";import{Card as L}from"@twilio-paste/card";import{createContext as I}from"react";var p=I({});var v=k((r,i)=>{var{children:o,variant:s="default",state:t}=r,e=d(r,["children","variant","state"]);let a={disclosure:t||y(n({animated:!0},e)),variant:s};return s==="contained"?m(p.Provider,{value:a},m(L,{padding:"space0",ref:i},o)):m(p.Provider,{value:a},m(z,{ref:i},o))});v.displayName="Disclosure";import{createElement as l,forwardRef as F,useContext as O,useRef as _}from"react";import{useTheme as A}from"@twilio-paste/theme";import{Box as P,safelySpreadBoxProps as V}from"@twilio-paste/box";import{Heading as $}from"@twilio-paste/heading";import{ChevronDisclosureExpandedIcon as G}from"@twilio-paste/icons/esm/ChevronDisclosureExpandedIcon";import{DisclosurePrimitive as X}from"@twilio-paste/disclosure-primitive";import{useEffect as N,useState as M}from"react";var C=(o,s,t,e,i)=>{if(!e){let r=i.space20;return(s==="heading40"||s==="heading50"||s==="heading60")&&(r=i.space10),{color:o?"colorText":"colorTextIcon",transform:`${o?`translateX(${r})`:"translateX(0)"} ${t?"rotate(0deg)":"rotate(-90deg)"}`,transition:"transform 200ms ease-out"}}return{color:"colorTextIcon"}},b=o=>{let[s,t]=M(!1),e=()=>t(!0),i=()=>t(!1);return N(()=>{let r=o==null?void 0:o.current;if(r)return r.addEventListener("mouseover",e),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",e),r.removeEventListener("mouseout",i)}},[o]),s};var f={heading10:"sizeIcon90",heading20:"sizeIcon70",heading30:"sizeIcon60",heading40:"sizeIcon40",heading50:"sizeIcon30",heading60:"sizeIcon20"};var j=F((x,H)=>{var{children:o,marginBottom:s,renderAs:t,disclosureVariant:e,customDisabled:i,customFocusable:r,variant:c}=x,a=d(x,["children","marginBottom","renderAs","disclosureVariant","customDisabled","customFocusable","variant"]);let T=A(),D=_(null),w=b(D),u="borderRadius20";return e==="contained"&&(u="borderRadius10"),e==="contained"&&a["aria-expanded"]&&(u="borderRadius0"),l($,{as:t,marginBottom:"space0",variant:c,ref:H},l(P,n(n({},V(a)),{as:"div",backgroundColor:a["aria-expanded"]?"colorBackground":"colorBackgroundBody",borderRadius:e==="contained"?"borderRadius10":"borderRadius20",borderBottomLeftRadius:u,borderBottomRightRadius:u,cursor:"pointer",display:"flex",outline:"none",padding:"space30",position:"relative",ref:D,role:"button",transition:"background-color 100ms ease-out",_hover:{backgroundColor:"colorBackgroundStrong"},_focus:{boxShadow:"shadowFocus"},_disabled:{backgroundColor:a["aria-expanded"]?"colorBackground":"colorBackgroundBody",color:"colorTextWeak",cursor:"not-allowed"}}),l(P,n({as:"span",display:"flex",height:f[c]||"sizeIcon20",width:f[c]||"sizeIcon20"},C(w,c,a["aria-expanded"],a["aria-disabled"],T.space)),l(G,{color:"inherit",decorative:!0,size:f[c]||"sizeIcon20"})),o))}),h=r=>{var{children:o,as:s,disabled:t,focusable:e}=r,i=d(r,["children","as","disabled","focusable"]);let{disclosure:c,variant:a}=O(p);return l(X,n(n(n({},c),i),{as:j,customDisabled:t,customFocusable:e,disabled:t,disclosureVariant:a,focusable:e,renderAs:s}),o)};h.displayName="DisclosureHeading";import{createElement as W,forwardRef as q,useContext as J}from"react";import{useSpring as K,animated as Q}from"@twilio-paste/animation-library";import{Box as U,safelySpreadBoxProps as Y}from"@twilio-paste/box";import{DisclosurePrimitiveContent as Z}from"@twilio-paste/disclosure-primitive";var R=Q(U),B=q((i,e)=>{var{children:o,visible:s}=i,t=d(i,["children","visible"]);let{disclosure:r}=J(p),{opacity:c}=K({opacity:r.visible?1:0,onRest:r.stopAnimation,config:{mass:1,tension:150,friction:20,duration:100}});return W(Z,n(n(n({},r),Y(t)),{as:R,backgroundColor:"colorBackgroundBody",padding:"space50",ref:e,style:{opacity:c}}),o)});B.displayName="DisclosureContent";export{R as AnimatedDisclosureContent,v as Disclosure,B as DisclosureContent,h as DisclosureHeading,y as useDisclosureState};
