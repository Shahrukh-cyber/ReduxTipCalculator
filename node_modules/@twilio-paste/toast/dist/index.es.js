var z=Object.prototype.hasOwnProperty;var B=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable;var r=Object.assign;var d=(o,e)=>{var a={};for(var t in o)z.call(o,t)&&e.indexOf(t)<0&&(a[t]=o[t]);if(o!=null&&B)for(var t of B(o))e.indexOf(t)<0&&O.call(o,t)&&(a[t]=o[t]);return a};import{createElement as p,forwardRef as $,useEffect as oo,useRef as ro}from"react";import{Button as eo}from"@twilio-paste/button";import{CloseIcon as to}from"@twilio-paste/icons/esm/CloseIcon";import{ErrorIcon as so}from"@twilio-paste/icons/esm/ErrorIcon";import{NeutralIcon as ao}from"@twilio-paste/icons/esm/NeutralIcon";import{SuccessIcon as io}from"@twilio-paste/icons/esm/SuccessIcon";import{WarningIcon as po}from"@twilio-paste/icons/esm/WarningIcon";import{MediaObject as no,MediaFigure as N,MediaBody as co}from"@twilio-paste/media-object";import{createElement as D,forwardRef as H}from"react";import{Box as V,safelySpreadBoxProps as A}from"@twilio-paste/box";var f={ERROR:"error",NEUTRAL:"neutral",SUCCESS:"success",WARNING:"warning"};var R=H((o,e)=>D(V,r(r({},A(o)),{ref:e,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderErrorWeak",boxShadow:"shadowHigh",padding:"space60",width:"size40"}),o.children));R.displayName="ErrorToast";import{createElement as _,forwardRef as F}from"react";import{Box as j,safelySpreadBoxProps as U}from"@twilio-paste/box";var h=F((o,e)=>_(j,r(r({},U(o)),{ref:e,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderNeutral",boxShadow:"shadowHigh",padding:"space60",width:"size40"}),o.children));h.displayName="NeutralToast";import{createElement as X,forwardRef as G}from"react";import{Box as q,safelySpreadBoxProps as J}from"@twilio-paste/box";var P=G((o,e)=>X(q,r(r({},J(o)),{ref:e,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderSuccessWeak",boxShadow:"shadowHigh",padding:"space60",width:"size40"}),o.children));P.displayName="SuccessToast";import{createElement as K,forwardRef as Q}from"react";import{Box as Y,safelySpreadBoxProps as Z}from"@twilio-paste/box";var x=Q((o,e)=>K(Y,r(r({},Z(o)),{ref:e,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderWarningWeak",boxShadow:"shadowHigh",padding:"space60",width:"size40"}),o.children));x.displayName="WarningToast";var lo={error:R,neutral:h,success:P,warning:x},mo=o=>{switch(o){case f.ERROR:return p(so,{color:"colorTextError",decorative:!1,title:"error: ",size:"sizeIcon20"});case f.SUCCESS:return p(io,{color:"colorTextSuccess",decorative:!1,title:"success: ",size:"sizeIcon20"});case f.WARNING:return p(po,{color:"colorTextWarning",decorative:!1,title:"warning: ",size:"sizeIcon20"});case f.NEUTRAL:default:return p(ao,{color:"colorTextNeutral",decorative:!1,title:"information: ",size:"sizeIcon20"})}},g=$((i,n)=>{var{children:o,onDismiss:e,variant:a="neutral",setFocus:t}=i,s=d(i,["children","onDismiss","variant","setFocus"]);let m=lo[a],c=ro(null);return oo(()=>{t&&c.current&&c.current.focus({preventScroll:!0})},[t]),p(m,r({role:"status",variant:a,ref:n},s),p(no,{as:"div"},p(N,{as:"div",spacing:"space60"},mo(a)),p(co,{as:"div"},o),e&&typeof e=="function"&&p(N,{align:"end",spacing:"space40"},p(eo,{onClick:e,variant:"link",ref:c,size:"reset"},p(to,{color:"colorTextIcon",decorative:!1,title:"dismiss this toast",size:"sizeIcon20"})))))});g.displayName="Toast";import{createElement as S,forwardRef as bo}from"react";import{Stack as Ro}from"@twilio-paste/stack";import{createElement as w,forwardRef as To}from"react";import{StyledBase as fo}from"@twilio-paste/theme";import{Portal as uo}from"@twilio-paste/reakit-library";import{Box as yo,safelySpreadBoxProps as go}from"@twilio-paste/box";var u=To((s,t)=>{var{children:o,__console_patch:e}=s,a=d(s,["children","__console_patch"]);return w(uo,null,w(fo,null,w(yo,r(r({},go(a)),{position:"fixed",right:"space40",top:"space90",zIndex:"zIndex90",ref:t,style:e?{zIndex:1999}:void 0}),o)))});u.displayName="ToastPortal";var v=bo((t,a)=>{var{children:o}=t,e=d(t,["children"]);return S(u,r({},e),S(Ro,{orientation:"vertical",spacing:"space40",ref:a},o))});v.displayName="ToastContainer";import{createElement as E,useCallback as ho,useEffect as Po,useState as W}from"react";import{useTransition as xo,animated as wo,useReducedMotion as Eo}from"@twilio-paste/animation-library";import{useTheme as Bo}from"@twilio-paste/theme";import{Box as No}from"@twilio-paste/box";var C=wo(No),k=t=>{var{toasts:o,pop:e}=t,a=d(t,["toasts","pop"]);let s=Eo(),[n]=W(()=>new WeakMap),[i,m]=W({trigger:null}),c=Bo(),y=xo(o,{from:{marginBottom:"0rem",opacity:0,transform:"translateX(100%) scale(1)",height:s?"auto":0},enter:s?{marginBottom:c.space.space40,opacity:1,transform:"translateX(0px) scale(1)"}:b=>async l=>{await l({marginBottom:c.space.space40,opacity:1,transform:"translateX(0px) scale(1)",height:n.get(b).offsetHeight})},leave:{marginBottom:"0rem",opacity:0,transform:"translateX(0px) scale(0.8)",height:s?"auto":0},config:{mass:1,tension:150,friction:20}}),I=ho(()=>{m({trigger:null})},[i]);return Po(()=>{i.trigger!=null&&o.length===0&&(i.trigger.focus(),I())},[o]),E(u,r({},a),y((b,l,M,L)=>E(C,{as:"div",key:M.key,style:b},E(g,r(r({key:l.id,onDismiss:()=>e(l.id)},l),{ref:T=>{T!=null&&n.set(l,T)},setFocus:L===0,onFocus:T=>{T.relatedTarget&&!i.trigger&&m({trigger:T.relatedTarget})}}),l.message))))};k.displayName="Toaster";import{useState as So}from"react";import{uid as vo}from"@twilio-paste/uid-library";var Wo=()=>{let[o,e]=So([]),a=s=>{e(n=>n.filter(i=>(i.id===s&&i.timeOutId&&window.clearTimeout(i.timeOutId),i.id!==s)))};return{toasts:o,push:s=>{let n=vo(s),i;s.dismissAfter!=null&&Number.isInteger(s.dismissAfter)&&(i=window.setTimeout(a,s.dismissAfter,s.id||n));let m=o.map(c=>{let y=c;return y.setFocus=!1,y});e([r({id:n,timeOutId:i,setFocus:!0},s),...m])},pop:a}};export{C as AnimatedToast,g as Toast,v as ToastContainer,k as Toaster,Wo as useToaster};
