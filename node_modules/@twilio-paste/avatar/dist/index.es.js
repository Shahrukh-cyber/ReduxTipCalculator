var w=Object.prototype.hasOwnProperty;var u=Object.getOwnPropertySymbols,x=Object.prototype.propertyIsEnumerable;var s=Object.assign;var z=(e,t)=>{var n={};for(var o in e)w.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&u)for(var o of u(e))t.indexOf(o)<0&&x.call(e,o)&&(n[o]=e[o]);return n};import{createElement as i,forwardRef as P}from"react";import{string as S}from"prop-types";import{Text as b}from"@twilio-paste/text";import{Box as a,safelySpreadBoxProps as T}from"@twilio-paste/box";import{isIconSizeTokenProp as H}from"@twilio-paste/style-props";var f=e=>e.split(" ").map(t=>t.slice(0,1)).reduce((t,n,o,r)=>o===0||o===r.length-1?`${t}${n}`:t,""),I=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))return e.replace("sizeIcon","lineHeight");throw new Error("[Avatar]: size must be of type IconSizeOptions.")},m=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))switch(e){case"sizeIcon10":case"sizeIcon20":case"sizeIcon30":case"sizeIcon40":case"sizeIcon50":case"sizeIcon60":default:return"fontSize10";case"sizeIcon70":return"fontSize20";case"sizeIcon80":return"fontSize30";case"sizeIcon90":return"fontSize40";case"sizeIcon100":return"fontSize60";case"sizeIcon110":return"fontSize70"}throw new Error("[Avatar]: size must be of type IconSizeOptions.")},d=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))switch(e){case"sizeIcon10":case"sizeIcon20":case"sizeIcon30":case"sizeIcon40":default:return"sizeIcon10";case"sizeIcon50":case"sizeIcon60":return"sizeIcon20";case"sizeIcon70":return"sizeIcon30";case"sizeIcon80":return"sizeIcon40";case"sizeIcon90":return"sizeIcon50";case"sizeIcon100":return"sizeIcon70";case"sizeIcon110":return"sizeIcon80"}throw new Error("[Avatar]: size must be of type IconSizeOptions.")},g=e=>{if(typeof e=="string")return{lineHeight:I(e),fontSize:m(e),iconSize:d(e)};if(Array.isArray(e))return{lineHeight:e.map(t=>t!=null?I(t):null),fontSize:e.map(t=>t!=null?m(t):null),iconSize:e.map(t=>t!=null?d(t):null)};throw new Error("[Avatar]: size must be a string or an array")};var y="sizeIcon70",h=({name:e,size:t=y,src:n,icon:o})=>{let r=g(t);if(o!=null){if(typeof o!="function"||typeof o.displayName!="string"||!o.displayName.includes("Icon"))throw new Error("[Paste Avatar]: icon prop expected to be a Paste icon only.");return i(a,{maxWidth:"100%",size:t,display:"flex",alignItems:"center",justifyContent:"center"},i(o,{decorative:!1,title:e,size:r.iconSize}))}return n!=null?i(a,{as:"img",alt:e,maxWidth:"100%",src:n,size:t,title:e}):i(b,{as:"abbr",display:"block",fontSize:r.fontSize,fontWeight:"fontWeightBold",lineHeight:r.lineHeight,textAlign:"center",textDecoration:"none",title:e,color:"inherit"},f(e))},c=P((l,v)=>{var{name:e,children:t,size:n=y,element:o="AVATAR",src:r,icon:p}=l,A=z(l,["name","children","size","element","src","icon"]);return e===void 0&&console.error("[Paste Avatar]: name prop is required"),r&&p?(console.error("[Paste Avatar]: do not set both src and icon on Avatar"),null):i(a,s(s({},T(A)),{as:"div",element:o,backgroundColor:"colorBackgroundUser",borderRadius:"borderRadiusCircle",overflow:"hidden",ref:v,size:n,color:"colorText"}),r?i(h,{name:e,size:n,src:r}):i(h,{name:e,size:n,icon:p}))});c.displayName="Avatar";c.propTypes={size:H,name:S.isRequired,element:S,src:e=>(e.src&&e.icon&&new Error("[Paste Avatar]: do not set both src and icon on Avatar"),typeof e.src!="string"&&new Error("[Paste Avatar]: src prop must be a string"),null),icon:e=>(e.src&&e.icon&&new Error("[Paste Avatar]: do not set both src and icon on Avatar"),typeof e.icon!="function"&&new Error("[Paste Avatar]: icon prop must be a Paste Icon"),null)};export{c as Avatar};
